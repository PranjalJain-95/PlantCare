{"ast":null,"code":"var _jsxFileName = \"/Users/pranjal/Documents/GitHub/SoftwareDev/client/plantcare/src/containers/login/login.js\";\nimport React, { Component, Fragment } from 'react';\nimport './style.css';\nimport { InputText } from 'primereact/inputtext';\nimport { Password } from 'primereact/password';\nimport { Button } from 'primereact/button';\nimport { Toast } from 'primereact/toast';\nimport logo_reference from '../../images/plantcare.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: ''\n    };\n    this.clickSubmit = this.clickSubmit.bind(this);\n    this.showSuccess = this.showSuccess.bind(this);\n    this.showError = this.showError.bind(this);\n  }\n\n  clickSubmit(event) {\n    event.preventDefault();\n    var data = {\n      email: this.state.email,\n      password: this.state.password\n    };\n    console.log(data);\n    this.verifyLogin(data);\n  }\n\n  showSuccess(message) {\n    this.toast.show({\n      severity: 'success',\n      summary: 'Success Message',\n      detail: message,\n      life: 3000\n    });\n  }\n\n  showError(message) {\n    this.toast.show({\n      severity: 'error',\n      summary: 'Error Message',\n      detail: message,\n      life: 3000\n    });\n  }\n\n  verifyLogin(data) {\n    console.log('In Submit Login');\n    var request = new Request('http://localhost:4000/auth/login', {\n      method: 'POST',\n      headers: new Headers({\n        'Content-Type': 'application/json'\n      }),\n      body: JSON.stringify(data)\n    });\n    var that = this;\n    fetch(request).then(function (response) {\n      if (response.status === 500) throw new Error('Internal server error');else if (response.status === 401) throw new Error('Password or Email is incorrect');\n      response.json().then(function (data) {\n        localStorage.setItem('email', that.state.email);\n        localStorage.setItem('isLogged', 'true');\n        that.showSuccess('Sucessfully Logged In.');\n        that.props.history.push('/Dashboard');\n      });\n    }).catch(function (err) {\n      console.log(err.message);\n      that.showError(err.message);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Toast, {\n        ref: el => this.toast = el\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo_reference,\n          alt: \"Plants\",\n          width: \"170px\",\n          height: \"60px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"image_container\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"login_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container_welcome\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"welcome\",\n            children: \"Welcome to\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"welcome2\",\n            children: \" PlantCare! \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 55\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"no_account\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"register\",\n              children: \"No account? Sign up \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          id: \"sign_in\",\n          children: \"Sign in \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"email\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"p-float-label\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"label_text\",\n              children: \"Enter Your email address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(InputText, {\n              id: \"form_input\",\n              placeholder: \"Enter your email address\",\n              value: this.state.email,\n              onChange: e => this.setState({\n                email: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"label_text\",\n          children: \"Enter Your Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Password, {\n          value: this.state.password,\n          placeholder: \"Enter your password\",\n          onChange: e => this.setState({\n            password: e.target.value\n          }),\n          toggleMask: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"forgot_password\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/Forgot-Password\",\n            children: \" Forgot Password \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          id: \"button_submit\",\n          label: \"Submit\",\n          className: \"p-button-outlined p-button-success\",\n          onClick: this.clickSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/pranjal/Documents/GitHub/SoftwareDev/client/plantcare/src/containers/login/login.js"],"names":["React","Component","Fragment","InputText","Password","Button","Toast","logo_reference","login","constructor","props","state","email","password","clickSubmit","bind","showSuccess","showError","event","preventDefault","data","console","log","verifyLogin","message","toast","show","severity","summary","detail","life","request","Request","method","headers","Headers","body","JSON","stringify","that","fetch","then","response","status","Error","json","localStorage","setItem","history","push","catch","err","render","el","e","setState","target","value"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport './style.css'\n\n\nimport { InputText } from 'primereact/inputtext';\nimport { Password } from 'primereact/password';\nimport { Button } from 'primereact/button';\nimport { Toast } from 'primereact/toast';\nimport logo_reference from '../../images/plantcare.png'\n\n\n\nexport default class login extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            email: '',\n            password: ''\n        };\n        this.clickSubmit = this.clickSubmit.bind(this);\n        this.showSuccess = this.showSuccess.bind(this);\n        this.showError = this.showError.bind(this);\n    }\n\n    clickSubmit(event) {\n\n        event.preventDefault();\n\n        var data = {\n            email: this.state.email,\n            password: this.state.password,\n        };\n        console.log(data);\n        this.verifyLogin(data);\n    }\n\n    showSuccess(message) {\n        this.toast.show({ severity: 'success', summary: 'Success Message', detail: message, life: 3000 });\n    }\n    showError(message) {\n        this.toast.show({ severity: 'error', summary: 'Error Message', detail: message, life: 3000 });\n    }\n\n    verifyLogin(data) {\n        console.log('In Submit Login');\n        var request = new Request('http://localhost:4000/auth/login', {\n            method: 'POST',\n            headers: new Headers({ 'Content-Type': 'application/json' }),\n            body: JSON.stringify(data)\n        });\n\n        var that = this;\n        fetch(request)\n            .then(function (response) {\n                if (response.status === 500) throw new Error('Internal server error');\n                else if (response.status === 401) throw new Error('Password or Email is incorrect');\n                \n                response.json().then(function (data) {\n                    localStorage.setItem('email', that.state.email);\n                    localStorage.setItem('isLogged', 'true');\n\n                    that.showSuccess('Sucessfully Logged In.');\n                    that.props.history.push('/Dashboard');\n                   \n                });\n            })\n            .catch(function (err) {\n                console.log(err.message);\n                that.showError(err.message);\n            });\n    }\n\n\n\n\n\n    render() {\n        return (\n            <Fragment>\n                <Toast ref={(el) => this.toast = el} />\n                <div className='logo'><img src={logo_reference} alt=\"Plants\" width=\"170px\" height=\"60px\" /></div>\n                <div id='image_container'></div>\n                <div id=\"login_container\">\n                    <div className=\"container_welcome\">\n                        <p id=\"welcome\">Welcome to</p><p id=\"welcome2\"> PlantCare! </p>\n                        <span id=\"no_account\">\n                            <a href=\"register\">No account? Sign up </a>\n                        </span>\n                    </div>\n                    <h1 id=\"sign_in\">Sign in </h1>\n                    <div className=\"email\">\n                        <span className=\"p-float-label\">\n                        <p id='label_text'>Enter Your email address</p>\n                            <InputText\n                                id=\"form_input\"\n                                placeholder='Enter your email address'\n                                value={this.state.email}\n                                onChange={(e) => this.setState({ email: e.target.value })}\n                                required\n                            />\n                        </span>    \n                    </div>\n                    <p id='label_text'>Enter Your Password</p>\n                    <Password value={this.state.password} placeholder ='Enter your password' onChange={(e) => this.setState({ password: e.target.value })} toggleMask />\n                    <span id=\"forgot_password\">\n                        <a href=\"/Forgot-Password\"> Forgot Password </a>\n                       \n                    </span>\n\n                    <Button id=\"button_submit\" label=\"Submit\" className=\"p-button-outlined p-button-success\" onClick={this.clickSubmit} />\n                </div>\n            </Fragment>\n\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}
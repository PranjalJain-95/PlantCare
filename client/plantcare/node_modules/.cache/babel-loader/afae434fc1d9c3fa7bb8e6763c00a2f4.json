{"ast":null,"code":"import React, { Component } from 'react';\nimport { ObjectUtils, classNames } from 'primereact/utils';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar VirtualScroller = /*#__PURE__*/function (_Component) {\n  _inherits(VirtualScroller, _Component);\n\n  var _super = _createSuper(VirtualScroller);\n\n  function VirtualScroller(props) {\n    var _this;\n\n    _classCallCheck(this, VirtualScroller);\n\n    _this = _super.call(this, props);\n\n    var isBoth = _this.isBoth();\n\n    _this.state = {\n      first: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      last: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numItemsInViewport: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numToleratedItems: props.numToleratedItems,\n      loading: props.loading,\n      loaderArr: []\n    };\n    _this.onScroll = _this.onScroll.bind(_assertThisInitialized(_this));\n    _this.lastScrollPos = isBoth ? {\n      top: 0,\n      left: 0\n    } : 0;\n    return _this;\n  }\n\n  _createClass(VirtualScroller, [{\n    key: \"scrollTo\",\n    value: function scrollTo(options) {\n      this.el && this.el.scrollTo(options);\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var _this2 = this;\n\n      var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var first = this.state.first;\n\n      var _this$calculateNumIte = this.calculateNumItems(),\n          numToleratedItems = _this$calculateNumIte.numToleratedItems;\n\n      var itemSize = this.props.itemSize;\n      var contentPos = this.getContentPosition();\n\n      var calculateFirst = function calculateFirst() {\n        var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n        var _numT = arguments.length > 1 ? arguments[1] : undefined;\n\n        return _index <= _numT ? 0 : _index;\n      };\n\n      var calculateCoord = function calculateCoord(_first, _size, _cpos) {\n        return _first * _size + _cpos;\n      };\n\n      var scrollTo = function scrollTo() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return _this2.scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n\n      if (isBoth) {\n        var newFirst = {\n          rows: calculateFirst(index[0], numToleratedItems[0]),\n          cols: calculateFirst(index[1], numToleratedItems[1])\n        };\n\n        if (newFirst.rows !== first.rows || newFirst.cols !== first.cols) {\n          scrollTo(calculateCoord(newFirst.cols, itemSize[1], contentPos.left), calculateCoord(newFirst.rows, itemSize[0], contentPos.top));\n          this.setState({\n            first: newFirst\n          });\n        }\n      } else {\n        var _newFirst = calculateFirst(index, numToleratedItems);\n\n        if (_newFirst !== first) {\n          isHorizontal ? scrollTo(calculateCoord(_newFirst, itemSize, contentPos.left), 0) : scrollTo(0, calculateCoord(_newFirst, itemSize, contentPos.top));\n          this.setState({\n            first: _newFirst\n          });\n        }\n      }\n    }\n  }, {\n    key: \"scrollInView\",\n    value: function scrollInView(index, to) {\n      var _this3 = this;\n\n      var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n\n      if (to) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n\n        var _this$getRenderedRang = this.getRenderedRange(),\n            first = _this$getRenderedRang.first,\n            viewport = _this$getRenderedRang.viewport;\n\n        var itemSize = this.props.itemSize;\n\n        var scrollTo = function scrollTo() {\n          var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n          var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n          return _this3.scrollTo({\n            left: left,\n            top: top,\n            behavior: behavior\n          });\n        };\n\n        var isToStart = to === 'to-start';\n        var isToEnd = to === 'to-end';\n\n        if (isToStart) {\n          if (isBoth) {\n            if (viewport.first.rows - first.rows > index[0]) {\n              scrollTo(viewport.first.cols * itemSize, (viewport.first.rows - 1) * itemSize);\n            } else if (viewport.first.cols - first.cols > index[1]) {\n              scrollTo((viewport.first.cols - 1) * itemSize, viewport.first.rows * itemSize);\n            }\n          } else {\n            if (viewport.first - first > index) {\n              var pos = (viewport.first - 1) * itemSize;\n              isHorizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n            }\n          }\n        } else if (isToEnd) {\n          if (isBoth) {\n            if (viewport.last.rows - first.rows <= index[0] + 1) {\n              scrollTo(viewport.first.cols * itemSize, (viewport.first.rows + 1) * itemSize);\n            } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n              scrollTo((viewport.first.cols + 1) * itemSize, viewport.first.rows * itemSize);\n            }\n          } else {\n            if (viewport.last - first <= index + 1) {\n              var _pos2 = (viewport.first + 1) * itemSize;\n\n              isHorizontal ? scrollTo(_pos2, 0) : scrollTo(0, _pos2);\n            }\n          }\n        }\n      } else {\n        this.scrollToIndex(index, behavior);\n      }\n    }\n  }, {\n    key: \"getRows\",\n    value: function getRows() {\n      return this.state.loading ? this.props.loaderDisabled ? this.state.loaderArr : [] : this.loadedItems();\n    }\n  }, {\n    key: \"getColumns\",\n    value: function getColumns() {\n      if (this.props.columns) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n\n        if (isBoth || isHorizontal) {\n          return this.state.loading && this.props.loaderDisabled ? isBoth ? this.state.loaderArr[0] : this.state.loaderArr : this.props.columns.slice(isBoth ? this.state.first.cols : this.state.first, isBoth ? this.state.last.cols : this.state.last);\n        }\n      }\n\n      return this.props.columns;\n    }\n  }, {\n    key: \"getRenderedRange\",\n    value: function getRenderedRange() {\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var _this$state = this.state,\n          first = _this$state.first,\n          last = _this$state.last,\n          numItemsInViewport = _this$state.numItemsInViewport;\n      var itemSize = this.props.itemSize;\n\n      var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n        return Math.floor(_pos / (_size || _pos));\n      };\n\n      var firstInViewport = first;\n      var lastInViewport = 0;\n\n      if (this.el) {\n        var scrollTop = this.el.scrollTop;\n        var scrollLeft = this.el.scrollLeft;\n\n        if (isBoth) {\n          firstInViewport = {\n            rows: calculateFirstInViewport(scrollTop, itemSize[0]),\n            cols: calculateFirstInViewport(scrollLeft, itemSize[1])\n          };\n          lastInViewport = {\n            rows: firstInViewport.rows + numItemsInViewport.rows,\n            cols: firstInViewport.cols + numItemsInViewport.cols\n          };\n        } else {\n          var scrollPos = isHorizontal ? scrollLeft : scrollTop;\n          firstInViewport = calculateFirstInViewport(scrollPos, itemSize);\n          lastInViewport = firstInViewport + numItemsInViewport;\n        }\n      }\n\n      return {\n        first: first,\n        last: last,\n        viewport: {\n          first: firstInViewport,\n          last: lastInViewport\n        }\n      };\n    }\n  }, {\n    key: \"isVertical\",\n    value: function isVertical() {\n      return this.props.orientation === 'vertical';\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      return this.props.orientation === 'horizontal';\n    }\n  }, {\n    key: \"isBoth\",\n    value: function isBoth() {\n      return this.props.orientation === 'both';\n    }\n  }, {\n    key: \"calculateNumItems\",\n    value: function calculateNumItems() {\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var itemSize = this.props.itemSize;\n      var contentPos = this.getContentPosition();\n      var contentWidth = this.el ? this.el.offsetWidth - contentPos.left : 0;\n      var contentHeight = this.el ? this.el.offsetHeight - contentPos.top : 0;\n\n      var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n        return Math.ceil(_contentSize / (_itemSize || _contentSize));\n      };\n\n      var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\n        return Math.ceil(_numItems / 2);\n      };\n\n      var numItemsInViewport = isBoth ? {\n        rows: calculateNumItemsInViewport(contentHeight, itemSize[0]),\n        cols: calculateNumItemsInViewport(contentWidth, itemSize[1])\n      } : calculateNumItemsInViewport(isHorizontal ? contentWidth : contentHeight, itemSize);\n      var numToleratedItems = this.state.numToleratedItems || (isBoth ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n      return {\n        numItemsInViewport: numItemsInViewport,\n        numToleratedItems: numToleratedItems\n      };\n    }\n  }, {\n    key: \"calculateOptions\",\n    value: function calculateOptions() {\n      var _this4 = this;\n\n      var isBoth = this.isBoth();\n      var first = this.state.first;\n\n      var _this$calculateNumIte2 = this.calculateNumItems(),\n          numItemsInViewport = _this$calculateNumIte2.numItemsInViewport,\n          numToleratedItems = _this$calculateNumIte2.numToleratedItems;\n\n      var calculateLast = function calculateLast(_first, _num, _numT, _isCols) {\n        return _this4.getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n      };\n\n      var last = isBoth ? {\n        rows: calculateLast(first.rows, numItemsInViewport.rows, numToleratedItems[0]),\n        cols: calculateLast(first.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n      } : calculateLast(first, numItemsInViewport, numToleratedItems);\n      var state = {\n        numItemsInViewport: numItemsInViewport,\n        last: last,\n        numToleratedItems: numToleratedItems\n      };\n\n      if (this.props.showLoader) {\n        state['loaderArr'] = isBoth ? Array.from({\n          length: numItemsInViewport.rows\n        }).map(function () {\n          return Array.from({\n            length: numItemsInViewport.cols\n          });\n        }) : Array.from({\n          length: numItemsInViewport\n        });\n      }\n\n      this.setState(state, function () {\n        if (_this4.props.lazy) {\n          _this4.props.onLazyLoad && _this4.props.onLazyLoad({\n            first: _this4.state.first,\n            last: _this4.state.last\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getLast\",\n    value: function getLast() {\n      var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var isCols = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (this.props.items) {\n        return Math.min(isCols ? (this.props.columns || this.props.items[0]).length : this.props.items.length, last);\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getContentPosition\",\n    value: function getContentPosition() {\n      if (this.content) {\n        var style = getComputedStyle(this.content);\n        var left = parseInt(style.paddingLeft, 10) + Math.max(parseInt(style.left, 10), 0);\n        var right = parseInt(style.paddingRight, 10) + Math.max(parseInt(style.right, 10), 0);\n        var top = parseInt(style.paddingTop, 10) + Math.max(parseInt(style.top, 10), 0);\n        var bottom = parseInt(style.paddingBottom, 10) + Math.max(parseInt(style.bottom, 10), 0);\n        return {\n          left: left,\n          right: right,\n          top: top,\n          bottom: bottom,\n          x: left + right,\n          y: top + bottom\n        };\n      }\n\n      return {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        x: 0,\n        y: 0\n      };\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize() {\n      var _this5 = this;\n\n      if (this.el) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var parentElement = this.el.parentElement;\n        var width = this.props.scrollWidth || \"\".concat(this.el.offsetWidth || parentElement.offsetWidth, \"px\");\n        var height = this.props.scrollHeight || \"\".concat(this.el.offsetHeight || parentElement.offsetHeight, \"px\");\n\n        var setProp = function setProp(_name, _value) {\n          return _this5.el.style[_name] = _value;\n        };\n\n        if (isBoth || isHorizontal) {\n          setProp('height', height);\n          setProp('width', width);\n        } else {\n          setProp('height', height);\n        }\n      }\n    }\n  }, {\n    key: \"setSpacerSize\",\n    value: function setSpacerSize() {\n      var _this6 = this;\n\n      var items = this.props.items;\n\n      if (this.spacer && items) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var itemSize = this.props.itemSize;\n        var contentPos = this.getContentPosition();\n\n        var setProp = function setProp(_name, _value, _size) {\n          var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n          return _this6.spacer.style[_name] = (_value || []).length * _size + _cpos + 'px';\n        };\n\n        if (isBoth) {\n          setProp('height', items, itemSize[0], contentPos.y);\n          setProp('width', this.props.columns || items[1], itemSize[1], contentPos.x);\n        } else {\n          isHorizontal ? setProp('width', this.props.columns || items, itemSize, contentPos.x) : setProp('height', items, itemSize, contentPos.y);\n        }\n      }\n    }\n  }, {\n    key: \"setContentPosition\",\n    value: function setContentPosition(pos) {\n      var _this7 = this;\n\n      if (this.content) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var first = pos ? pos.first : this.state.first;\n        var itemSize = this.props.itemSize;\n\n        var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n          return _first * _size;\n        };\n\n        var setTransform = function setTransform() {\n          var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n          var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n          _this7.sticky && (_this7.sticky.style.top = \"-\".concat(_y, \"px\"));\n          _this7.content.style.transform = \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\");\n        };\n\n        if (isBoth) {\n          setTransform(calculateTranslateVal(first.cols, itemSize[1]), calculateTranslateVal(first.rows, itemSize[0]));\n        } else {\n          var translateVal = calculateTranslateVal(first, itemSize);\n          isHorizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n        }\n      }\n    }\n  }, {\n    key: \"onScrollPositionChange\",\n    value: function onScrollPositionChange(event) {\n      var _this8 = this;\n\n      var target = event.target;\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var _this$state2 = this.state,\n          first = _this$state2.first,\n          last = _this$state2.last,\n          numItemsInViewport = _this$state2.numItemsInViewport,\n          numToleratedItems = _this$state2.numToleratedItems;\n      var itemSize = this.props.itemSize;\n      var contentPos = this.getContentPosition();\n\n      var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\n        return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n      };\n\n      var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n        return Math.floor(_pos / (_size || _pos));\n      };\n\n      var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n        return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n      };\n\n      var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n        if (_currentIndex <= _numT) return 0;else return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n      };\n\n      var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\n        var lastValue = _first + _num + 2 * _numT;\n\n        if (_currentIndex >= _numT) {\n          lastValue += _numT + 1;\n        }\n\n        return _this8.getLast(lastValue, _isCols);\n      };\n\n      var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n      var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n      var newFirst = 0;\n      var newLast = last;\n      var isRangeChanged = false;\n\n      if (isBoth) {\n        var isScrollDown = this.lastScrollPos.top <= scrollTop;\n        var isScrollRight = this.lastScrollPos.left <= scrollLeft;\n        var currentIndex = {\n          rows: calculateCurrentIndex(scrollTop, itemSize[0]),\n          cols: calculateCurrentIndex(scrollLeft, itemSize[1])\n        };\n        var triggerIndex = {\n          rows: calculateTriggerIndex(currentIndex.rows, first.rows, last.rows, numItemsInViewport.rows, numToleratedItems[0], isScrollDown),\n          cols: calculateTriggerIndex(currentIndex.cols, first.cols, last.cols, numItemsInViewport.cols, numToleratedItems[1], isScrollRight)\n        };\n        newFirst = {\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, first.rows, last.rows, numItemsInViewport.rows, numToleratedItems[0], isScrollDown),\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, first.cols, last.cols, numItemsInViewport.cols, numToleratedItems[1], isScrollRight)\n        };\n        newLast = {\n          rows: calculateLast(currentIndex.rows, newFirst.rows, last.rows, numItemsInViewport.rows, numToleratedItems[0]),\n          cols: calculateLast(currentIndex.cols, newFirst.cols, last.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n        };\n        isRangeChanged = newFirst.rows !== first.rows && newLast.rows !== last.rows || newFirst.cols !== first.cols && newLast.cols !== last.cols;\n        this.lastScrollPos = {\n          top: scrollTop,\n          left: scrollLeft\n        };\n      } else {\n        var scrollPos = isHorizontal ? scrollLeft : scrollTop;\n        var isScrollDownOrRight = this.lastScrollPos <= scrollPos;\n\n        var _currentIndex2 = calculateCurrentIndex(scrollPos, itemSize);\n\n        var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, first, last, numItemsInViewport, numToleratedItems, isScrollDownOrRight);\n\n        newFirst = calculateFirst(_currentIndex2, _triggerIndex2, first, last, numItemsInViewport, numToleratedItems, isScrollDownOrRight);\n        newLast = calculateLast(_currentIndex2, newFirst, last, numItemsInViewport, numToleratedItems);\n        isRangeChanged = newFirst !== first && newLast !== last;\n        this.lastScrollPos = scrollPos;\n      }\n\n      return {\n        first: newFirst,\n        last: newLast,\n        isRangeChanged: isRangeChanged\n      };\n    }\n  }, {\n    key: \"onScrollChange\",\n    value: function onScrollChange(event) {\n      var _this9 = this;\n\n      var _this$onScrollPositio = this.onScrollPositionChange(event),\n          first = _this$onScrollPositio.first,\n          last = _this$onScrollPositio.last,\n          isRangeChanged = _this$onScrollPositio.isRangeChanged;\n\n      if (isRangeChanged) {\n        var newState = {\n          first: first,\n          last: last\n        };\n        this.setContentPosition(newState);\n        this.setState(newState, function () {\n          _this9.props.onScrollIndexChange && _this9.props.onScrollIndexChange(newState);\n\n          if (_this9.props.lazy) {\n            _this9.props.onLazyLoad && _this9.props.onLazyLoad(newState);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"onScroll\",\n    value: function onScroll(event) {\n      var _this10 = this;\n\n      this.props.onScroll && this.props.onScroll(event);\n\n      if (this.props.delay) {\n        if (this.scrollTimeout) {\n          clearTimeout(this.scrollTimeout);\n        }\n\n        if (!this.state.loading && this.props.showLoader) {\n          var _this$onScrollPositio2 = this.onScrollPositionChange(event),\n              changed = _this$onScrollPositio2.isRangeChanged;\n\n          changed && this.setState({\n            loading: true\n          });\n        }\n\n        this.scrollTimeout = setTimeout(function () {\n          _this10.onScrollChange(event);\n\n          if (_this10.state.loading && _this10.props.showLoader && !_this10.props.lazy) {\n            _this10.setState({\n              loading: false\n            });\n          }\n        }, this.props.delay);\n      } else {\n        this.onScrollChange(event);\n      }\n    }\n  }, {\n    key: \"getOptions\",\n    value: function getOptions(renderedIndex) {\n      var first = this.state.first;\n      var count = (this.props.items || []).length;\n      var index = this.isBoth() ? first.rows + renderedIndex : first + renderedIndex;\n      return {\n        index: index,\n        count: count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0,\n        props: this.props\n      };\n    }\n  }, {\n    key: \"loaderOptions\",\n    value: function loaderOptions(index, extOptions) {\n      var count = this.state.loaderArr.length;\n      return _objectSpread({\n        index: index,\n        count: count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0,\n        props: this.props\n      }, extOptions);\n    }\n  }, {\n    key: \"loadedItems\",\n    value: function loadedItems() {\n      var _this11 = this;\n\n      var items = this.props.items;\n\n      if (items && !this.state.loading) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var _this$state3 = this.state,\n            first = _this$state3.first,\n            last = _this$state3.last;\n        if (isBoth) return items.slice(first.rows, last.rows).map(function (item) {\n          return _this11.props.columns ? item : item.slice(first.cols, last.cols);\n        });else if (isHorizontal && this.props.columns) return items;else return items.slice(first, last);\n      }\n\n      return [];\n    }\n  }, {\n    key: \"isPropChanged\",\n    value: function isPropChanged(prevProps) {\n      var _this12 = this;\n\n      var props = ['itemSize', 'scrollHeight'];\n      return props.some(function (p) {\n        return !ObjectUtils.equals(prevProps[p], _this12.props[p]);\n      });\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.setSize();\n      this.calculateOptions();\n      this.setSpacerSize();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.init();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!prevProps.items || prevProps.items.length !== (this.props.items || []).length || this.isPropChanged(prevProps)) {\n        this.init();\n      }\n\n      if (this.props.lazy && prevProps.loading !== this.props.loading && this.state.loading !== this.props.loading) {\n        this.setState({\n          loading: this.props.loading\n        });\n      }\n\n      if (prevProps.orientation !== this.props.orientation) {\n        this.lastScrollPos = this.isBoth() ? {\n          top: 0,\n          left: 0\n        } : 0;\n      }\n    }\n  }, {\n    key: \"renderLoaderItem\",\n    value: function renderLoaderItem(index) {\n      var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var options = this.loaderOptions(index, extOptions);\n      var content = ObjectUtils.getJSXElement(this.props.loadingTemplate, options);\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: index\n      }, content);\n    }\n  }, {\n    key: \"renderLoader\",\n    value: function renderLoader() {\n      var _this13 = this;\n\n      if (!this.props.loaderDisabled && this.props.showLoader && this.state.loading) {\n        var className = classNames('p-virtualscroller-loader', {\n          'p-component-overlay': !this.props.loadingTemplate\n        });\n        var content = /*#__PURE__*/React.createElement(\"i\", {\n          className: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\n        });\n\n        if (this.props.loadingTemplate) {\n          var isBoth = this.isBoth();\n          var numItemsInViewport = this.state.numItemsInViewport;\n          content = this.state.loaderArr.map(function (_, index) {\n            return _this13.renderLoaderItem(index, isBoth && {\n              numCols: numItemsInViewport.cols\n            });\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: className\n        }, content);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderSpacer\",\n    value: function renderSpacer() {\n      var _this14 = this;\n\n      if (this.props.showSpacer) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          ref: function ref(el) {\n            return _this14.spacer = el;\n          },\n          className: \"p-virtualscroller-spacer\"\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderItem\",\n    value: function renderItem(item, index) {\n      var options = this.getOptions(index);\n      var content = ObjectUtils.getJSXElement(this.props.itemTemplate, item, options);\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: options.index\n      }, content);\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems(loadedItems) {\n      var _this15 = this;\n\n      return loadedItems.map(function (item, index) {\n        return _this15.renderItem(item, index);\n      });\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var _this16 = this;\n\n      var loadedItems = this.loadedItems();\n      var items = this.renderItems(loadedItems);\n      var className = classNames('p-virtualscroller-content', {\n        'p-virtualscroller-loading': this.state.loading\n      });\n      var content = /*#__PURE__*/React.createElement(\"div\", {\n        className: className,\n        ref: function ref(el) {\n          return _this16.content = el;\n        }\n      }, items);\n\n      if (this.props.contentTemplate) {\n        var defaultOptions = {\n          className: className,\n          contentRef: function contentRef(el) {\n            return _this16.content = el;\n          },\n          spacerRef: function spacerRef(el) {\n            return _this16.spacer = el;\n          },\n          stickyRef: function stickyRef(el) {\n            return _this16.sticky = el;\n          },\n          items: loadedItems,\n          getItemOptions: function getItemOptions(index) {\n            return _this16.getOptions(index);\n          },\n          children: items,\n          element: content,\n          props: this.props,\n          loading: this.state.loading,\n          getLoaderOptions: function getLoaderOptions(index, ext) {\n            return _this16.loaderOptions(index, ext);\n          },\n          loadingTemplate: this.props.loadingTemplate,\n          itemSize: this.props.itemSize,\n          rows: this.getRows(),\n          columns: this.getColumns(),\n          vertical: this.isVertical(),\n          horizontal: this.isHorizontal(),\n          both: this.isBoth()\n        };\n        return ObjectUtils.getJSXElement(this.props.contentTemplate, defaultOptions);\n      }\n\n      return content;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this17 = this;\n\n      if (this.props.disabled) {\n        var content = ObjectUtils.getJSXElement(this.props.contentTemplate, {\n          items: this.props.items,\n          rows: this.props.items,\n          columns: this.props.columns\n        });\n        return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.children, content);\n      } else {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var className = classNames('p-virtualscroller', {\n          'p-both-scroll': isBoth,\n          'p-horizontal-scroll': isHorizontal\n        }, this.props.className);\n        var loader = this.renderLoader();\n\n        var _content = this.renderContent();\n\n        var spacer = this.renderSpacer();\n        return /*#__PURE__*/React.createElement(\"div\", {\n          ref: function ref(el) {\n            return _this17.el = el;\n          },\n          className: className,\n          tabIndex: 0,\n          style: this.props.style,\n          onScroll: this.onScroll\n        }, _content, spacer, loader);\n      }\n    }\n  }]);\n\n  return VirtualScroller;\n}(Component);\n\n_defineProperty(VirtualScroller, \"defaultProps\", {\n  id: null,\n  style: null,\n  className: null,\n  items: null,\n  itemSize: 0,\n  scrollHeight: null,\n  scrollWidth: null,\n  orientation: 'vertical',\n  numToleratedItems: null,\n  delay: 0,\n  lazy: false,\n  disabled: false,\n  loaderDisabled: false,\n  columns: null,\n  loading: false,\n  showSpacer: true,\n  showLoader: false,\n  loadingTemplate: null,\n  itemTemplate: null,\n  contentTemplate: null,\n  onScroll: null,\n  onScrollIndexChange: null,\n  onLazyLoad: null\n});\n\nexport { VirtualScroller };","map":{"version":3,"sources":["/Users/pranjal/Documents/GitHub/SoftwareDev/client/plantcare/node_modules/primereact/virtualscroller/virtualscroller.esm.js"],"names":["React","Component","ObjectUtils","classNames","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","constructor","value","_typeof","obj","Symbol","iterator","_possibleConstructorReturn","call","_getPrototypeOf","getPrototypeOf","_defineProperty","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","Reflect","construct","sham","Proxy","Boolean","valueOf","e","VirtualScroller","_Component","_super","_this","isBoth","state","first","rows","cols","last","numItemsInViewport","numToleratedItems","loading","loaderArr","onScroll","bind","lastScrollPos","top","left","scrollTo","options","el","scrollToIndex","index","_this2","behavior","undefined","isHorizontal","_this$calculateNumIte","calculateNumItems","itemSize","contentPos","getContentPosition","calculateFirst","_index","_numT","calculateCoord","_first","_size","_cpos","newFirst","setState","_newFirst","scrollInView","to","_this3","_this$getRenderedRang","getRenderedRange","viewport","isToStart","isToEnd","pos","_pos2","getRows","loaderDisabled","loadedItems","getColumns","columns","slice","_this$state","calculateFirstInViewport","_pos","Math","floor","firstInViewport","lastInViewport","scrollTop","scrollLeft","scrollPos","isVertical","orientation","contentWidth","offsetWidth","contentHeight","offsetHeight","calculateNumItemsInViewport","_contentSize","_itemSize","ceil","calculateNumToleratedItems","_numItems","calculateOptions","_this4","_this$calculateNumIte2","calculateLast","_num","_isCols","getLast","showLoader","Array","from","map","lazy","onLazyLoad","isCols","items","min","content","style","getComputedStyle","parseInt","paddingLeft","max","right","paddingRight","paddingTop","bottom","paddingBottom","x","y","setSize","_this5","parentElement","width","scrollWidth","concat","height","scrollHeight","setProp","_name","_value","setSpacerSize","_this6","spacer","setContentPosition","_this7","calculateTranslateVal","setTransform","_x","_y","sticky","transform","translateVal","onScrollPositionChange","event","_this8","_this$state2","calculateScrollPos","calculateCurrentIndex","calculateTriggerIndex","_currentIndex","_last","_isScrollDownOrRight","_triggerIndex","lastValue","newLast","isRangeChanged","isScrollDown","isScrollRight","currentIndex","triggerIndex","isScrollDownOrRight","_currentIndex2","_triggerIndex2","onScrollChange","_this9","_this$onScrollPositio","newState","onScrollIndexChange","_this10","delay","scrollTimeout","clearTimeout","_this$onScrollPositio2","changed","setTimeout","getOptions","renderedIndex","count","even","odd","loaderOptions","extOptions","_this11","_this$state3","item","isPropChanged","prevProps","_this12","some","equals","init","componentDidMount","componentDidUpdate","prevState","renderLoaderItem","getJSXElement","loadingTemplate","createElement","Fragment","renderLoader","_this13","className","_","numCols","renderSpacer","_this14","showSpacer","ref","renderItem","itemTemplate","renderItems","_this15","renderContent","_this16","contentTemplate","defaultOptions","contentRef","spacerRef","stickyRef","getItemOptions","children","element","getLoaderOptions","ext","vertical","horizontal","both","render","_this17","disabled","loader","_content","tabIndex","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { ObjectUtils, classNames } from 'primereact/utils';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VirtualScroller = /*#__PURE__*/function (_Component) {\n  _inherits(VirtualScroller, _Component);\n\n  var _super = _createSuper(VirtualScroller);\n\n  function VirtualScroller(props) {\n    var _this;\n\n    _classCallCheck(this, VirtualScroller);\n\n    _this = _super.call(this, props);\n\n    var isBoth = _this.isBoth();\n\n    _this.state = {\n      first: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      last: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numItemsInViewport: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numToleratedItems: props.numToleratedItems,\n      loading: props.loading,\n      loaderArr: []\n    };\n    _this.onScroll = _this.onScroll.bind(_assertThisInitialized(_this));\n    _this.lastScrollPos = isBoth ? {\n      top: 0,\n      left: 0\n    } : 0;\n    return _this;\n  }\n\n  _createClass(VirtualScroller, [{\n    key: \"scrollTo\",\n    value: function scrollTo(options) {\n      this.el && this.el.scrollTo(options);\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var _this2 = this;\n\n      var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var first = this.state.first;\n\n      var _this$calculateNumIte = this.calculateNumItems(),\n          numToleratedItems = _this$calculateNumIte.numToleratedItems;\n\n      var itemSize = this.props.itemSize;\n      var contentPos = this.getContentPosition();\n\n      var calculateFirst = function calculateFirst() {\n        var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n        var _numT = arguments.length > 1 ? arguments[1] : undefined;\n\n        return _index <= _numT ? 0 : _index;\n      };\n\n      var calculateCoord = function calculateCoord(_first, _size, _cpos) {\n        return _first * _size + _cpos;\n      };\n\n      var scrollTo = function scrollTo() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return _this2.scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n\n      if (isBoth) {\n        var newFirst = {\n          rows: calculateFirst(index[0], numToleratedItems[0]),\n          cols: calculateFirst(index[1], numToleratedItems[1])\n        };\n\n        if (newFirst.rows !== first.rows || newFirst.cols !== first.cols) {\n          scrollTo(calculateCoord(newFirst.cols, itemSize[1], contentPos.left), calculateCoord(newFirst.rows, itemSize[0], contentPos.top));\n          this.setState({\n            first: newFirst\n          });\n        }\n      } else {\n        var _newFirst = calculateFirst(index, numToleratedItems);\n\n        if (_newFirst !== first) {\n          isHorizontal ? scrollTo(calculateCoord(_newFirst, itemSize, contentPos.left), 0) : scrollTo(0, calculateCoord(_newFirst, itemSize, contentPos.top));\n          this.setState({\n            first: _newFirst\n          });\n        }\n      }\n    }\n  }, {\n    key: \"scrollInView\",\n    value: function scrollInView(index, to) {\n      var _this3 = this;\n\n      var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n\n      if (to) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n\n        var _this$getRenderedRang = this.getRenderedRange(),\n            first = _this$getRenderedRang.first,\n            viewport = _this$getRenderedRang.viewport;\n\n        var itemSize = this.props.itemSize;\n\n        var scrollTo = function scrollTo() {\n          var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n          var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n          return _this3.scrollTo({\n            left: left,\n            top: top,\n            behavior: behavior\n          });\n        };\n\n        var isToStart = to === 'to-start';\n        var isToEnd = to === 'to-end';\n\n        if (isToStart) {\n          if (isBoth) {\n            if (viewport.first.rows - first.rows > index[0]) {\n              scrollTo(viewport.first.cols * itemSize, (viewport.first.rows - 1) * itemSize);\n            } else if (viewport.first.cols - first.cols > index[1]) {\n              scrollTo((viewport.first.cols - 1) * itemSize, viewport.first.rows * itemSize);\n            }\n          } else {\n            if (viewport.first - first > index) {\n              var pos = (viewport.first - 1) * itemSize;\n              isHorizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n            }\n          }\n        } else if (isToEnd) {\n          if (isBoth) {\n            if (viewport.last.rows - first.rows <= index[0] + 1) {\n              scrollTo(viewport.first.cols * itemSize, (viewport.first.rows + 1) * itemSize);\n            } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n              scrollTo((viewport.first.cols + 1) * itemSize, viewport.first.rows * itemSize);\n            }\n          } else {\n            if (viewport.last - first <= index + 1) {\n              var _pos2 = (viewport.first + 1) * itemSize;\n\n              isHorizontal ? scrollTo(_pos2, 0) : scrollTo(0, _pos2);\n            }\n          }\n        }\n      } else {\n        this.scrollToIndex(index, behavior);\n      }\n    }\n  }, {\n    key: \"getRows\",\n    value: function getRows() {\n      return this.state.loading ? this.props.loaderDisabled ? this.state.loaderArr : [] : this.loadedItems();\n    }\n  }, {\n    key: \"getColumns\",\n    value: function getColumns() {\n      if (this.props.columns) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n\n        if (isBoth || isHorizontal) {\n          return this.state.loading && this.props.loaderDisabled ? isBoth ? this.state.loaderArr[0] : this.state.loaderArr : this.props.columns.slice(isBoth ? this.state.first.cols : this.state.first, isBoth ? this.state.last.cols : this.state.last);\n        }\n      }\n\n      return this.props.columns;\n    }\n  }, {\n    key: \"getRenderedRange\",\n    value: function getRenderedRange() {\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var _this$state = this.state,\n          first = _this$state.first,\n          last = _this$state.last,\n          numItemsInViewport = _this$state.numItemsInViewport;\n      var itemSize = this.props.itemSize;\n\n      var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n        return Math.floor(_pos / (_size || _pos));\n      };\n\n      var firstInViewport = first;\n      var lastInViewport = 0;\n\n      if (this.el) {\n        var scrollTop = this.el.scrollTop;\n        var scrollLeft = this.el.scrollLeft;\n\n        if (isBoth) {\n          firstInViewport = {\n            rows: calculateFirstInViewport(scrollTop, itemSize[0]),\n            cols: calculateFirstInViewport(scrollLeft, itemSize[1])\n          };\n          lastInViewport = {\n            rows: firstInViewport.rows + numItemsInViewport.rows,\n            cols: firstInViewport.cols + numItemsInViewport.cols\n          };\n        } else {\n          var scrollPos = isHorizontal ? scrollLeft : scrollTop;\n          firstInViewport = calculateFirstInViewport(scrollPos, itemSize);\n          lastInViewport = firstInViewport + numItemsInViewport;\n        }\n      }\n\n      return {\n        first: first,\n        last: last,\n        viewport: {\n          first: firstInViewport,\n          last: lastInViewport\n        }\n      };\n    }\n  }, {\n    key: \"isVertical\",\n    value: function isVertical() {\n      return this.props.orientation === 'vertical';\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      return this.props.orientation === 'horizontal';\n    }\n  }, {\n    key: \"isBoth\",\n    value: function isBoth() {\n      return this.props.orientation === 'both';\n    }\n  }, {\n    key: \"calculateNumItems\",\n    value: function calculateNumItems() {\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var itemSize = this.props.itemSize;\n      var contentPos = this.getContentPosition();\n      var contentWidth = this.el ? this.el.offsetWidth - contentPos.left : 0;\n      var contentHeight = this.el ? this.el.offsetHeight - contentPos.top : 0;\n\n      var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n        return Math.ceil(_contentSize / (_itemSize || _contentSize));\n      };\n\n      var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\n        return Math.ceil(_numItems / 2);\n      };\n\n      var numItemsInViewport = isBoth ? {\n        rows: calculateNumItemsInViewport(contentHeight, itemSize[0]),\n        cols: calculateNumItemsInViewport(contentWidth, itemSize[1])\n      } : calculateNumItemsInViewport(isHorizontal ? contentWidth : contentHeight, itemSize);\n      var numToleratedItems = this.state.numToleratedItems || (isBoth ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n      return {\n        numItemsInViewport: numItemsInViewport,\n        numToleratedItems: numToleratedItems\n      };\n    }\n  }, {\n    key: \"calculateOptions\",\n    value: function calculateOptions() {\n      var _this4 = this;\n\n      var isBoth = this.isBoth();\n      var first = this.state.first;\n\n      var _this$calculateNumIte2 = this.calculateNumItems(),\n          numItemsInViewport = _this$calculateNumIte2.numItemsInViewport,\n          numToleratedItems = _this$calculateNumIte2.numToleratedItems;\n\n      var calculateLast = function calculateLast(_first, _num, _numT, _isCols) {\n        return _this4.getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n      };\n\n      var last = isBoth ? {\n        rows: calculateLast(first.rows, numItemsInViewport.rows, numToleratedItems[0]),\n        cols: calculateLast(first.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n      } : calculateLast(first, numItemsInViewport, numToleratedItems);\n      var state = {\n        numItemsInViewport: numItemsInViewport,\n        last: last,\n        numToleratedItems: numToleratedItems\n      };\n\n      if (this.props.showLoader) {\n        state['loaderArr'] = isBoth ? Array.from({\n          length: numItemsInViewport.rows\n        }).map(function () {\n          return Array.from({\n            length: numItemsInViewport.cols\n          });\n        }) : Array.from({\n          length: numItemsInViewport\n        });\n      }\n\n      this.setState(state, function () {\n        if (_this4.props.lazy) {\n          _this4.props.onLazyLoad && _this4.props.onLazyLoad({\n            first: _this4.state.first,\n            last: _this4.state.last\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getLast\",\n    value: function getLast() {\n      var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var isCols = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (this.props.items) {\n        return Math.min(isCols ? (this.props.columns || this.props.items[0]).length : this.props.items.length, last);\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getContentPosition\",\n    value: function getContentPosition() {\n      if (this.content) {\n        var style = getComputedStyle(this.content);\n        var left = parseInt(style.paddingLeft, 10) + Math.max(parseInt(style.left, 10), 0);\n        var right = parseInt(style.paddingRight, 10) + Math.max(parseInt(style.right, 10), 0);\n        var top = parseInt(style.paddingTop, 10) + Math.max(parseInt(style.top, 10), 0);\n        var bottom = parseInt(style.paddingBottom, 10) + Math.max(parseInt(style.bottom, 10), 0);\n        return {\n          left: left,\n          right: right,\n          top: top,\n          bottom: bottom,\n          x: left + right,\n          y: top + bottom\n        };\n      }\n\n      return {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        x: 0,\n        y: 0\n      };\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize() {\n      var _this5 = this;\n\n      if (this.el) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var parentElement = this.el.parentElement;\n        var width = this.props.scrollWidth || \"\".concat(this.el.offsetWidth || parentElement.offsetWidth, \"px\");\n        var height = this.props.scrollHeight || \"\".concat(this.el.offsetHeight || parentElement.offsetHeight, \"px\");\n\n        var setProp = function setProp(_name, _value) {\n          return _this5.el.style[_name] = _value;\n        };\n\n        if (isBoth || isHorizontal) {\n          setProp('height', height);\n          setProp('width', width);\n        } else {\n          setProp('height', height);\n        }\n      }\n    }\n  }, {\n    key: \"setSpacerSize\",\n    value: function setSpacerSize() {\n      var _this6 = this;\n\n      var items = this.props.items;\n\n      if (this.spacer && items) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var itemSize = this.props.itemSize;\n        var contentPos = this.getContentPosition();\n\n        var setProp = function setProp(_name, _value, _size) {\n          var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n          return _this6.spacer.style[_name] = (_value || []).length * _size + _cpos + 'px';\n        };\n\n        if (isBoth) {\n          setProp('height', items, itemSize[0], contentPos.y);\n          setProp('width', this.props.columns || items[1], itemSize[1], contentPos.x);\n        } else {\n          isHorizontal ? setProp('width', this.props.columns || items, itemSize, contentPos.x) : setProp('height', items, itemSize, contentPos.y);\n        }\n      }\n    }\n  }, {\n    key: \"setContentPosition\",\n    value: function setContentPosition(pos) {\n      var _this7 = this;\n\n      if (this.content) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var first = pos ? pos.first : this.state.first;\n        var itemSize = this.props.itemSize;\n\n        var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n          return _first * _size;\n        };\n\n        var setTransform = function setTransform() {\n          var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n          var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n          _this7.sticky && (_this7.sticky.style.top = \"-\".concat(_y, \"px\"));\n          _this7.content.style.transform = \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\");\n        };\n\n        if (isBoth) {\n          setTransform(calculateTranslateVal(first.cols, itemSize[1]), calculateTranslateVal(first.rows, itemSize[0]));\n        } else {\n          var translateVal = calculateTranslateVal(first, itemSize);\n          isHorizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n        }\n      }\n    }\n  }, {\n    key: \"onScrollPositionChange\",\n    value: function onScrollPositionChange(event) {\n      var _this8 = this;\n\n      var target = event.target;\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var _this$state2 = this.state,\n          first = _this$state2.first,\n          last = _this$state2.last,\n          numItemsInViewport = _this$state2.numItemsInViewport,\n          numToleratedItems = _this$state2.numToleratedItems;\n      var itemSize = this.props.itemSize;\n      var contentPos = this.getContentPosition();\n\n      var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\n        return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n      };\n\n      var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n        return Math.floor(_pos / (_size || _pos));\n      };\n\n      var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n        return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n      };\n\n      var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n        if (_currentIndex <= _numT) return 0;else return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n      };\n\n      var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\n        var lastValue = _first + _num + 2 * _numT;\n\n        if (_currentIndex >= _numT) {\n          lastValue += _numT + 1;\n        }\n\n        return _this8.getLast(lastValue, _isCols);\n      };\n\n      var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n      var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n      var newFirst = 0;\n      var newLast = last;\n      var isRangeChanged = false;\n\n      if (isBoth) {\n        var isScrollDown = this.lastScrollPos.top <= scrollTop;\n        var isScrollRight = this.lastScrollPos.left <= scrollLeft;\n        var currentIndex = {\n          rows: calculateCurrentIndex(scrollTop, itemSize[0]),\n          cols: calculateCurrentIndex(scrollLeft, itemSize[1])\n        };\n        var triggerIndex = {\n          rows: calculateTriggerIndex(currentIndex.rows, first.rows, last.rows, numItemsInViewport.rows, numToleratedItems[0], isScrollDown),\n          cols: calculateTriggerIndex(currentIndex.cols, first.cols, last.cols, numItemsInViewport.cols, numToleratedItems[1], isScrollRight)\n        };\n        newFirst = {\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, first.rows, last.rows, numItemsInViewport.rows, numToleratedItems[0], isScrollDown),\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, first.cols, last.cols, numItemsInViewport.cols, numToleratedItems[1], isScrollRight)\n        };\n        newLast = {\n          rows: calculateLast(currentIndex.rows, newFirst.rows, last.rows, numItemsInViewport.rows, numToleratedItems[0]),\n          cols: calculateLast(currentIndex.cols, newFirst.cols, last.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n        };\n        isRangeChanged = newFirst.rows !== first.rows && newLast.rows !== last.rows || newFirst.cols !== first.cols && newLast.cols !== last.cols;\n        this.lastScrollPos = {\n          top: scrollTop,\n          left: scrollLeft\n        };\n      } else {\n        var scrollPos = isHorizontal ? scrollLeft : scrollTop;\n        var isScrollDownOrRight = this.lastScrollPos <= scrollPos;\n\n        var _currentIndex2 = calculateCurrentIndex(scrollPos, itemSize);\n\n        var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, first, last, numItemsInViewport, numToleratedItems, isScrollDownOrRight);\n\n        newFirst = calculateFirst(_currentIndex2, _triggerIndex2, first, last, numItemsInViewport, numToleratedItems, isScrollDownOrRight);\n        newLast = calculateLast(_currentIndex2, newFirst, last, numItemsInViewport, numToleratedItems);\n        isRangeChanged = newFirst !== first && newLast !== last;\n        this.lastScrollPos = scrollPos;\n      }\n\n      return {\n        first: newFirst,\n        last: newLast,\n        isRangeChanged: isRangeChanged\n      };\n    }\n  }, {\n    key: \"onScrollChange\",\n    value: function onScrollChange(event) {\n      var _this9 = this;\n\n      var _this$onScrollPositio = this.onScrollPositionChange(event),\n          first = _this$onScrollPositio.first,\n          last = _this$onScrollPositio.last,\n          isRangeChanged = _this$onScrollPositio.isRangeChanged;\n\n      if (isRangeChanged) {\n        var newState = {\n          first: first,\n          last: last\n        };\n        this.setContentPosition(newState);\n        this.setState(newState, function () {\n          _this9.props.onScrollIndexChange && _this9.props.onScrollIndexChange(newState);\n\n          if (_this9.props.lazy) {\n            _this9.props.onLazyLoad && _this9.props.onLazyLoad(newState);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"onScroll\",\n    value: function onScroll(event) {\n      var _this10 = this;\n\n      this.props.onScroll && this.props.onScroll(event);\n\n      if (this.props.delay) {\n        if (this.scrollTimeout) {\n          clearTimeout(this.scrollTimeout);\n        }\n\n        if (!this.state.loading && this.props.showLoader) {\n          var _this$onScrollPositio2 = this.onScrollPositionChange(event),\n              changed = _this$onScrollPositio2.isRangeChanged;\n\n          changed && this.setState({\n            loading: true\n          });\n        }\n\n        this.scrollTimeout = setTimeout(function () {\n          _this10.onScrollChange(event);\n\n          if (_this10.state.loading && _this10.props.showLoader && !_this10.props.lazy) {\n            _this10.setState({\n              loading: false\n            });\n          }\n        }, this.props.delay);\n      } else {\n        this.onScrollChange(event);\n      }\n    }\n  }, {\n    key: \"getOptions\",\n    value: function getOptions(renderedIndex) {\n      var first = this.state.first;\n      var count = (this.props.items || []).length;\n      var index = this.isBoth() ? first.rows + renderedIndex : first + renderedIndex;\n      return {\n        index: index,\n        count: count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0,\n        props: this.props\n      };\n    }\n  }, {\n    key: \"loaderOptions\",\n    value: function loaderOptions(index, extOptions) {\n      var count = this.state.loaderArr.length;\n      return _objectSpread({\n        index: index,\n        count: count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0,\n        props: this.props\n      }, extOptions);\n    }\n  }, {\n    key: \"loadedItems\",\n    value: function loadedItems() {\n      var _this11 = this;\n\n      var items = this.props.items;\n\n      if (items && !this.state.loading) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var _this$state3 = this.state,\n            first = _this$state3.first,\n            last = _this$state3.last;\n        if (isBoth) return items.slice(first.rows, last.rows).map(function (item) {\n          return _this11.props.columns ? item : item.slice(first.cols, last.cols);\n        });else if (isHorizontal && this.props.columns) return items;else return items.slice(first, last);\n      }\n\n      return [];\n    }\n  }, {\n    key: \"isPropChanged\",\n    value: function isPropChanged(prevProps) {\n      var _this12 = this;\n\n      var props = ['itemSize', 'scrollHeight'];\n      return props.some(function (p) {\n        return !ObjectUtils.equals(prevProps[p], _this12.props[p]);\n      });\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.setSize();\n      this.calculateOptions();\n      this.setSpacerSize();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.init();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!prevProps.items || prevProps.items.length !== (this.props.items || []).length || this.isPropChanged(prevProps)) {\n        this.init();\n      }\n\n      if (this.props.lazy && prevProps.loading !== this.props.loading && this.state.loading !== this.props.loading) {\n        this.setState({\n          loading: this.props.loading\n        });\n      }\n\n      if (prevProps.orientation !== this.props.orientation) {\n        this.lastScrollPos = this.isBoth() ? {\n          top: 0,\n          left: 0\n        } : 0;\n      }\n    }\n  }, {\n    key: \"renderLoaderItem\",\n    value: function renderLoaderItem(index) {\n      var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var options = this.loaderOptions(index, extOptions);\n      var content = ObjectUtils.getJSXElement(this.props.loadingTemplate, options);\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: index\n      }, content);\n    }\n  }, {\n    key: \"renderLoader\",\n    value: function renderLoader() {\n      var _this13 = this;\n\n      if (!this.props.loaderDisabled && this.props.showLoader && this.state.loading) {\n        var className = classNames('p-virtualscroller-loader', {\n          'p-component-overlay': !this.props.loadingTemplate\n        });\n        var content = /*#__PURE__*/React.createElement(\"i\", {\n          className: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\n        });\n\n        if (this.props.loadingTemplate) {\n          var isBoth = this.isBoth();\n          var numItemsInViewport = this.state.numItemsInViewport;\n          content = this.state.loaderArr.map(function (_, index) {\n            return _this13.renderLoaderItem(index, isBoth && {\n              numCols: numItemsInViewport.cols\n            });\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: className\n        }, content);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderSpacer\",\n    value: function renderSpacer() {\n      var _this14 = this;\n\n      if (this.props.showSpacer) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          ref: function ref(el) {\n            return _this14.spacer = el;\n          },\n          className: \"p-virtualscroller-spacer\"\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderItem\",\n    value: function renderItem(item, index) {\n      var options = this.getOptions(index);\n      var content = ObjectUtils.getJSXElement(this.props.itemTemplate, item, options);\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: options.index\n      }, content);\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems(loadedItems) {\n      var _this15 = this;\n\n      return loadedItems.map(function (item, index) {\n        return _this15.renderItem(item, index);\n      });\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var _this16 = this;\n\n      var loadedItems = this.loadedItems();\n      var items = this.renderItems(loadedItems);\n      var className = classNames('p-virtualscroller-content', {\n        'p-virtualscroller-loading': this.state.loading\n      });\n      var content = /*#__PURE__*/React.createElement(\"div\", {\n        className: className,\n        ref: function ref(el) {\n          return _this16.content = el;\n        }\n      }, items);\n\n      if (this.props.contentTemplate) {\n        var defaultOptions = {\n          className: className,\n          contentRef: function contentRef(el) {\n            return _this16.content = el;\n          },\n          spacerRef: function spacerRef(el) {\n            return _this16.spacer = el;\n          },\n          stickyRef: function stickyRef(el) {\n            return _this16.sticky = el;\n          },\n          items: loadedItems,\n          getItemOptions: function getItemOptions(index) {\n            return _this16.getOptions(index);\n          },\n          children: items,\n          element: content,\n          props: this.props,\n          loading: this.state.loading,\n          getLoaderOptions: function getLoaderOptions(index, ext) {\n            return _this16.loaderOptions(index, ext);\n          },\n          loadingTemplate: this.props.loadingTemplate,\n          itemSize: this.props.itemSize,\n          rows: this.getRows(),\n          columns: this.getColumns(),\n          vertical: this.isVertical(),\n          horizontal: this.isHorizontal(),\n          both: this.isBoth()\n        };\n        return ObjectUtils.getJSXElement(this.props.contentTemplate, defaultOptions);\n      }\n\n      return content;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this17 = this;\n\n      if (this.props.disabled) {\n        var content = ObjectUtils.getJSXElement(this.props.contentTemplate, {\n          items: this.props.items,\n          rows: this.props.items,\n          columns: this.props.columns\n        });\n        return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.children, content);\n      } else {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var className = classNames('p-virtualscroller', {\n          'p-both-scroll': isBoth,\n          'p-horizontal-scroll': isHorizontal\n        }, this.props.className);\n        var loader = this.renderLoader();\n\n        var _content = this.renderContent();\n\n        var spacer = this.renderSpacer();\n        return /*#__PURE__*/React.createElement(\"div\", {\n          ref: function ref(el) {\n            return _this17.el = el;\n          },\n          className: className,\n          tabIndex: 0,\n          style: this.props.style,\n          onScroll: this.onScroll\n        }, _content, spacer, loader);\n      }\n    }\n  }]);\n\n  return VirtualScroller;\n}(Component);\n\n_defineProperty(VirtualScroller, \"defaultProps\", {\n  id: null,\n  style: null,\n  className: null,\n  items: null,\n  itemSize: 0,\n  scrollHeight: null,\n  scrollWidth: null,\n  orientation: 'vertical',\n  numToleratedItems: null,\n  delay: 0,\n  lazy: false,\n  disabled: false,\n  loaderDisabled: false,\n  columns: null,\n  loading: false,\n  showSpacer: true,\n  showLoader: false,\n  loadingTemplate: null,\n  itemTemplate: null,\n  contentTemplate: null,\n  onScroll: null,\n  onScrollIndexChange: null,\n  onLazyLoad: null\n});\n\nexport { VirtualScroller };\n"]},"metadata":{},"sourceType":"module"}